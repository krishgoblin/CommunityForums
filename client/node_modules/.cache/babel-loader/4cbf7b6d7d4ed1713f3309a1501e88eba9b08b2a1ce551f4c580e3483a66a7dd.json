{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\OneDrive\\\\Pictures\\\\Documents\\\\Code\\\\Projects\\\\CommunityForum\\\\client\\\\src\\\\components\\\\RequestList.js\",\n  _s = $RefreshSig$();\n// src/components/RequestList.js\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n// Import the RequestForm component\nimport RequestForm from './RequestForm';\nimport './RequestList.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RequestList = () => {\n  _s();\n  const [requests, setRequests] = useState([]);\n  const fetchRequests = async () => {\n    try {\n      const response = await axios.get('http://localhost:5000/requests');\n      setRequests(response.data);\n    } catch (error) {\n      console.error('Error fetching requests:', error);\n    }\n  };\n  useEffect(() => {\n    fetchRequests();\n  }, []);\n  const handleLike = async id => {\n    try {\n      await axios.patch(`\nhttp://localhost:5000/requests/${id}/like\n\t\t\t\t`);\n      // Refresh the list of requests after liking\n      fetchRequests();\n    } catch (error) {\n      console.error('Error liking request:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"request-list-container\",\n    children: [/*#__PURE__*/_jsxDEV(RequestForm, {\n      onAddRequest: newRequest => setRequests([newRequest, ...requests])\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"request-list\",\n      children: requests.map(request => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"request-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"resident-name\",\n          children: request.residentName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"request-content\",\n          children: request.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"likes\",\n          children: [\"Likes: \", request.likes]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"like-button\",\n          onClick: () => handleLike(request._id),\n          children: \"Like\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 7\n        }, this)]\n      }, request._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 6\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 3\n  }, this);\n};\n_s(RequestList, \"MIcAFnHRaJFubpcUtYXSDqOxSqY=\");\n_c = RequestList;\nexport default RequestList;\nvar _c;\n$RefreshReg$(_c, \"RequestList\");","map":{"version":3,"names":["React","useEffect","useState","axios","RequestForm","jsxDEV","_jsxDEV","RequestList","_s","requests","setRequests","fetchRequests","response","get","data","error","console","handleLike","id","patch","className","children","onAddRequest","newRequest","fileName","_jsxFileName","lineNumber","columnNumber","map","request","residentName","content","likes","onClick","_id","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/OneDrive/Pictures/Documents/Code/Projects/CommunityForum/client/src/components/RequestList.js"],"sourcesContent":["// src/components/RequestList.js\r\nimport React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n// Import the RequestForm component\r\nimport RequestForm from './RequestForm'; \r\nimport './RequestList.css';\r\n\r\nconst RequestList = () => {\r\n\tconst [requests, setRequests] = useState([]);\r\n\r\n\tconst fetchRequests = async () => {\r\n\t\ttry {\r\n\t\t\tconst response = \r\n\t\t\t\tawait axios.get('http://localhost:5000/requests');\r\n\t\t\tsetRequests(response.data);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error fetching requests:', error);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchRequests();\r\n\t}, []);\r\n\r\n\tconst handleLike = async (id) => {\r\n\t\ttry {\r\n\t\t\tawait \r\n\t\t\t\taxios.patch(`\r\nhttp://localhost:5000/requests/${id}/like\r\n\t\t\t\t`);\r\n\t\t\t// Refresh the list of requests after liking\r\n\t\t\tfetchRequests();\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('Error liking request:', error);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"request-list-container\">\r\n\t\t\t<RequestForm onAddRequest={\r\n\t\t\t\t(newRequest) =>\r\n\t\t\t\t\tsetRequests([newRequest, ...requests])\r\n\t\t\t} />\r\n\t\t\t<ul className=\"request-list\">\r\n\t\t\t\t{requests.map((request) => (\r\n\t\t\t\t\t<div key={request._id}\r\n\t\t\t\t\t\tclassName=\"request-item\">\r\n\t\t\t\t\t\t<p className=\"resident-name\">\r\n\t\t\t\t\t\t\t{request.residentName}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"request-content\">\r\n\t\t\t\t\t\t\t{request.content}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"likes\">\r\n\t\t\t\t\t\t\tLikes: {request.likes}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<button className=\"like-button\"\r\n\t\t\t\t\t\t\tonClick=\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t() => handleLike(request._id)\r\n\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\tLike\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default RequestList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}